<!doctype html><html lang=en><head><title>Artnoi.com - What no bitches does to a MF: todong</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=keywords content="artnoi,Prem Phansuriyanon"><meta name=author content="@artnoi"><meta charset=UTF-8><link href=/style.css rel=stylesheet><script src=/script.js></script></head><body><ul class=navbar id=navbar><li><a href=/><img src=/toplogo.png alt=Artnoi.com class=logo>artnoi</a></li><li class=f-right><a href=https://notes.artnoi.com/#/all-pages>logseq</a></li><li class=f-right><a href=/cheat/>cheat</a></li><li class=f-right><a href=/blog/>blog</a></li></ul><p>Mar 30, <a href=/blog/2022/>2022</a></p><h1 id=what-no-bitches-does-to-a-mf-todong>What no bitches does to a MF: todong</h1><p>During my last feature development, I finished my part early, and so I had a bit of free time. So I decided to practice writing clean code, with the same old to-do list REST back-end. <a href=https://github.com/soyart/todong>The code is open for thrashing on my GitHub</a>.</p><h2 id=goals>Goals</h2><p>I wanted maximum flexibility with data store and web frameworks, such that <em>one</em> line in the config file configures whether this code will use which data store and web frameworks at runtime.</p><h2 id=results>Results</h2><p>I managed to make it. The project structure is as something like this:</p><pre><code>
todong
├── assets
├── cmd
│   └── todong
├── config
├── datamodel
├── enums
├── internal
├── lib
│   ├── handler
│   │   ├── fiberhandler // fiber handlers
│   │   └── ginhandler   // gin handlers
│   ├── httpserver
│   │   ├── fiberserver  // fiber server
│   │   └── ginserver    // gin server
│   ├── middleware
│   ├── postgres
│   ├── redisclient
│   ├── redishelper
│   ├── store            // data storage
│   └── utils
└── test
</code></pre><p>In the end, it does what I want it to. Data storage and handlers are completely abstracted away from package main.</p><hr><p><a href=#top>Back to top</a></p><hr><footer><p>Copyright (c) 2019 Prem Phansuriyanon</p><p>Verbatim copying and redistribution of this entire page are permitted provided this notice is preserved</p></footer></body></html>